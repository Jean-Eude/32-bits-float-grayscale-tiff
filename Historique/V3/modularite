racine/
‚îÇ
‚îú‚îÄ‚îÄ RDX_cpp/
‚îÇ   ‚îú‚îÄ‚îÄ src/fichier/       # Ton code C++ avec Traitements::Conversion
‚îÇ   ‚îî‚îÄ‚îÄ bin/TestConversion # Binaire ex√©cut√©
‚îÇ
‚îî‚îÄ‚îÄ RDX_radio/
    ‚îî‚îÄ‚îÄ radio/
        ‚îú‚îÄ‚îÄ Code/py_test/convert_to_tiff.sh
        ‚îî‚îÄ‚îÄ Env/bin/activate  # Environnement virtuel Python
√ßa: std::string cmd = "./convert_to_tiff.sh ...";
en √ßa :

std::string scriptPath = Filesystem::getAbsoluteScriptPath("../../../RDX_radio/radio/Code/py_test/convert_to_tiff.sh");
std::string cmd = "\"" + scriptPath + "\" \"" + inputPath + "\" \"" + tiffPath + "\"";

std::string Filesystem::getAbsoluteScriptPath(const std::string& relativePathFromBin) {
    char exePath[1024];
    ssize_t len = ::readlink("/proc/self/exe", exePath, sizeof(exePath)-1);
    if (len != -1) {
        exePath[len] = '\0';
        std::filesystem::path exeDir = std::filesystem::path(exePath).parent_path();
        return (exeDir / relativePathFromBin).lexically_normal().string();
    } else {
        throw std::runtime_error("Impossible de trouver le chemin de l'ex√©cutable");
    }
}


#!/bin/bash

# Obtenir le chemin absolu du script
SCRIPT_DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" &> /dev/null && pwd )"

# Activer l'environnement Python
source "$SCRIPT_DIR/../../Env/bin/activate"

# Ton code ici...
# Exemple : python convert.py "$1" "$2"

deactivate









////////////////////


#!/bin/bash

# üîí Sauvegarde le dossier o√π on √©tait avant
ORIGINAL_DIR="$(pwd)"

# R√©sout le chemin r√©el du script
SCRIPT_DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" &> /dev/null && pwd )"

# Si on n'est pas d√©j√† dans le bon dossier, on s'y rend
if [[ "$ORIGINAL_DIR" != "$SCRIPT_DIR" ]]; then
    echo "üîÅ D√©placement automatique dans $SCRIPT_DIR"
    cd "$SCRIPT_DIR" || exit 1
else
    echo "‚úÖ D√©j√† dans le bon dossier : $SCRIPT_DIR"
fi

### Ici tu fais tout ce que tu veux dans le bon dossier ###
# Par exemple :
# source ../Env/bin/activate
# python convert.py "$1" "$2"
# deactivate

# üîô Revenir au dossier d‚Äôorigine
cd "$ORIGINAL_DIR"
echo "‚Ü©Ô∏è Retour au dossier d'origine : $ORIGINAL_DIR"

